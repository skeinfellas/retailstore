<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="custom.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
	
	 <!-- Bootstrap core CSS -->
    <link href="assets/css/bootstrap.css" rel="stylesheet">
    <!-- Fontawesome core CSS -->
    <link href="assets/css/font-awesome.min.css" rel="stylesheet" />
	<link href="assets/ItemSlider/css/main-style.css" rel="stylesheet" />
	 <link href="assets/css/style.css" rel="stylesheet" />
</head>

<body>
   
       <!-- customer login -->
	   <div class="col-lg-4 logindiv" style="display:block" id="login-page">
	<h1 style="text-align:center">Customer - Login</h1>
	<div class="form-group">
		<input type="text" name="username" id="pnumber" class="form-control" placeholder="Phone Number" value="">
	</div>
	<div class="form-group">
	<input type="password" name="password" id="password" class="form-control" placeholder="Password">
	</div>
		<div class="form-group">
		<div class="row">
		<div class="col-sm-3 col-sm-offset-3">
		<input type="submit" name="login-submit" id="login-submit" class="form-control btn btn-login" value="Log In">
		</div>
		<div class="col-sm-3 col-sm-offset-3">
		<input type="submit"  id="register-form-link" class="form-control btn btn-login" value="Register">
		
		</div>
		</div>
		</div>
	</div>
	   
	   
	   
	   <!-- Customer Register -->
	
	
			<div class="col-lg-4 logindiv" style="display:none" id="register-page">
				
					<div class="panel-body">
						<div class="row">
							<div class="col-lg-12">
								<h1 style="text-align:center">Register</h1>
								
									<div class="form-group">
										<input type="text" name="username" id="username" tabindex="1" class="form-control" placeholder="Username" value="">
									</div>
									<div class="form-group">
										<input type="email" name="email" id="email" tabindex="1" class="form-control" placeholder="Email Address" value="">
									</div>
									<div class="form-group">
										<input type="number" id="phoneNumber" tabindex="2" class="form-control" placeholder="Phone Number">
									</div>
									<div class="form-group">
										<input type="password" name="password" id="cus-password" tabindex="2" class="form-control" placeholder="Password">
									</div>
									
									<div class="form-group">
										<div class="row">
											<div class="col-sm-6 col-sm-offset-3">
												<input type="submit" name="register-submit" id="register-submit1" class="form-control btn btn-register" value="Register Now">
											</div>
										</div>
									</div>
								
							</div>
						</div>
					</div>
				</div>
	   
	   
	   <!-- Employee login -->
	   
	   <div class="col-lg-4 logindiv" style="display:block" id="emp-login-page">
	<h1 style="text-align:center">Employee - Login</h1>
	<div class="form-group">
		<input type="text" name="username" id="emp_pnumber" class="form-control" placeholder="Phone Number" value="">
	</div>
	<div class="form-group">
	<input type="password" name="password" id="emp_password" class="form-control" placeholder="Password">
	</div>
		<div class="form-group">
		<div class="row">
		<div class="col-sm-3 col-sm-offset-3">
		<input type="submit" name="login-submit" id="emp-login-submit" class="form-control btn btn-login" value="Log In">
		</div>
		<div class="col-sm-3 col-sm-offset-3">
		<input type="submit"  id="emp-register-form-link" class="form-control btn btn-login" value="Register">
		
		</div>
		</div>
		</div>
	</div>
	   
	   <!-- Employee Register -->
	
	
			<div class="col-lg-4 logindiv" style="display:none" id="emp-register-page">
				
					<div class="panel-body">
						<div class="row">
							<div class="col-lg-12">
								<h1 style="text-align:center">Register</h1>
								
									<div class="form-group">
										<input type="text" name="username" id="emp-username" tabindex="1" class="form-control" placeholder="Username" value="">
									</div>
									<div class="form-group">
										<input type="email" name="email" id="emp-email" tabindex="1" class="form-control" placeholder="Email Address" value="">
									</div>
									<div class="form-group">
										<input type="number" id="emp-phoneNumber" tabindex="2" class="form-control" placeholder="Phone Number">
									</div>
									<div class="form-group">
										<input type="password" name="password" id="emp-password" tabindex="2" class="form-control" placeholder="Password">
									</div>
									
									<div class="form-group">
										<div class="row">
											<div class="col-sm-6 col-sm-offset-3">
												<input type="submit" name="register-submit" id="emp-register-submit" class="form-control btn btn-register" value="Register Now">
											</div>
										</div>
									</div>
								
							</div>
						</div>
					</div>
				</div>
				
	<!-- 3rd party login -->			
				<div class="col-lg-4 logindiv" style="display:block" id="partner-login-page">
	<h1 style="text-align:center">Employee - Login</h1>
	<div class="form-group">
		<input type="text" name="username" id="partner_pnumber" class="form-control" placeholder="Phone Number" value="">
	</div>
	<div class="form-group">
	<input type="password" name="password" id="partner_password" class="form-control" placeholder="Password">
	</div>
		<div class="form-group">
		<div class="row">
		<div class="col-sm-3 col-sm-offset-3">
		<input type="submit" name="login-submit" id="partner-login-submit" class="form-control btn btn-login" value="Log In">
		</div>
		<div class="col-sm-3 col-sm-offset-3">
		<input type="submit"  id="partner-register-form-link" class="form-control btn btn-login" value="Register">
		
		</div>
		</div>
		</div>
	</div>
	   
	   <!-- 3rd party Register -->
	
	
			<div class="col-lg-4 logindiv" style="display:none" id="partner-register-page">
				
					<div class="panel-body">
						<div class="row">
							<div class="col-lg-12">
								<h1 style="text-align:center">Register</h1>
								
									<div class="form-group">
										<input type="text" name="username" id="partner-username" tabindex="1" class="form-control" placeholder="Username" value="">
									</div>
									<div class="form-group">
										<input type="email" name="email" id="partner-email" tabindex="1" class="form-control" placeholder="Email Address" value="">
									</div>
									<div class="form-group">
										<input type="number" id="partner-phoneNumber" tabindex="2" class="form-control" placeholder="Phone Number">
									</div>
									<div class="form-group">
										<input type="password" name="password" id="partner-password" tabindex="2" class="form-control" placeholder="Password">
									</div>
									
									<div class="form-group">
										<div class="row">
											<div class="col-sm-6 col-sm-offset-3">
												<input type="submit" name="register-submit" id="partner-register-submit" class="form-control btn btn-register" value="Register Now">
											</div>
										</div>
									</div>
								
							</div>
						</div>
					</div>
				</div>
	   
	  <!-- <div class="container">
    	<div class="row">
			<div class="col-md-6 col-md-offset-3">
				
					
					<div class="panel-body">
						<div class="row">
							<div class="col-lg-12">
								
								<form id="register-form" style="display: block;">
									<div class="form-group">
										<input type="text" name="username" id="username" tabindex="1" class="form-control" placeholder="Username" value="">
									</div>
									<div class="form-group">
										<input type="email" name="email" id="email" tabindex="1" class="form-control" placeholder="Email Address" value="">
									</div>
									<div class="form-group">
										<input type="number" id="phoneNumber" tabindex="2" class="form-control" placeholder="Phone Number">
									</div>
									<div class="form-group">
										<input type="password" name="password" id="password" tabindex="2" class="form-control" placeholder="Password">
									</div>
									
									<div class="form-group">
										<div class="row">
											<div class="col-sm-6 col-sm-offset-3">
												<input type="submit" name="register-submit" id="register-submit1" class="form-control btn btn-register" value="Register Now">
												<input type="submit" name="register-submit" id="register-submit12" class="form-control btn btn-register" value="Register Now2">
												<input type="submit"  id="register-form-link1" class="form-control btn btn-login" value="Register11234">
											</div>
										</div>
									</div>
								</form>
							</div>
						</div>
					</div>
				
			</div>
		</div>
	</div>
	   
	   
    </div>-->


	
	
	<!-- Dashboard slider -->
	
	<div class="col-md-9" id="category-list" style="display:none">
                <div class="well well-lg offer-box text-center">


                   Today's Offer : &nbsp; <span class="glyphicon glyphicon-cog"></span>&nbsp;40 % off  on purchase of $ 2,000 and above till 24 dec !                
              
               
                </div>
                <div class="main box-border">
                    <div id="mi-slider" class="mi-slider">
                        <ul>

                            <li><a href="#">
                                <img src="assets/ItemSlider/images/1.jpg" alt="img01"><h4>Boots</h4>
								<p>Price :
								<label for="Boots" style="vertical-align: middle" ></label></p>
								<p class="dis_none">Discount Price :
								<label for="dis_Boots" style="vertical-align: middle" ></label></p>
								<a href="#"><button id="Boots">Buy now</button></a>
                            </a></li>
                            <li><a href="#">
                                <img src="assets/ItemSlider/images/2.jpg" alt="img02"><h4>Oxfords</h4>
								<p>Price :
								<label for="Oxfords" style="vertical-align: middle" ></label></p>
								<p class="dis_none">Discount Price :
								<label for="dis_Oxfords" style="vertical-align: middle" ></label></p>
								<button id="Oxfords">Buy now</button>
                            </a></li>
                            <li><a href="#">
                                <img src="assets/ItemSlider/images/3.jpg" alt="img03"><h4>Loafers</h4>
								<p>Price :
								<label for="Loafers" style="vertical-align: middle" ></label></p>
								<p class="dis_none">Discount Price :
								<label for="dis_Loafers" style="vertical-align: middle" ></label></p>
								<button id="Loafers">Buy now</button>
                            </a></li>
                            <li><a href="#">
                                <img src="assets/ItemSlider/images/4.jpg" alt="img04"><h4>Sneakers</h4>
								<p>Price :
								<label for="Sneakers" style="vertical-align: middle" ></label></p>
								<p class="dis_none">Discount Price :
								<label for="dis_Sneakers" style="vertical-align: middle" ></label></p>
								<button id="Sneakers">Buy now</button>
                            </a></li>
                        </ul>
                        <ul>
                            <li><a href="#">
                                <img src="assets/ItemSlider/images/5.jpg" alt="img05"><h4>Belts</h4>
								<p>Price :
								<label for="Belts" style="vertical-align: middle" ></label></p>
								<p class="dis_none">Discount Price :
								<label for="dis_Belts" style="vertical-align: middle" ></label></p>
								<button id="Belts">Buy now</button>
                            </a></li>
                            <li><a href="#">
                                <img src="assets/ItemSlider/images/6.jpg" alt="img06"><h4>Hats &amp; Caps</h4>
								<p>Price :
								<label for="Caps" style="vertical-align: middle" ></label></p>
								<p class="dis_none">Discount Price :
								<label for="dis_Caps" style="vertical-align: middle" ></label></p>
								<button id="Caps">Buy now</button>
                            </a></li>
                            <li><a href="#">
                                <img src="assets/ItemSlider/images/7.jpg" alt="img07"><h4>Sunglasses</h4>
								<p>Price :
								<label for="Sunglasses" style="vertical-align: middle" ></label></p>
								<p class="dis_none">Discount Price :
								<label for="dis_Sunglasses" style="vertical-align: middle" ></label></p>
								<button id="Sunglasses">Buy now</button>
                            </a></li>
                            <li><a href="#">
                                <img src="assets/ItemSlider/images/8.jpg" alt="img08"><h4>Scarves</h4>
								<p>Price :
								<label for="Scarves" style="vertical-align: middle" ></label></p>
								<p class="dis_none">Discount Price :
								<label for="dis_Scarves" style="vertical-align: middle" ></label></p>
								<button id="Scarves">Buy now</button>
                            </a></li>
                        </ul>
                        <ul>
                            <li><a href="#">
                                <img src="assets/ItemSlider/images/9.jpg" alt="img09"><h4>Tomato</h4>
								<p>Price :
								<label for="Tomato" style="vertical-align: middle" ></label></p>
								
								<button id="Tomato">Buy now</button>
                            </a></li>
                            <li><a href="#">
                                <img src="assets/ItemSlider/images/10.jpg" alt="img10"><h4>Potato</h4>
								<p>Price :
								<label for="Potato" style="vertical-align: middle" ></label></p>
								
								<button id="Potato">Buy now</button>
                            </a></li>
                           
                        </ul>
                        <ul>
                            <li><a href="#">
                                <img src="assets/ItemSlider/images/12.jpg" alt="img12"><h4>Carry-Ons</h4>
								<p>Price :
								<label for="myalue" style="vertical-align: middle" ></label></p>
								<button>Buy now</button>
                            </a></li>
                            <li><a href="#">
                                <img src="assets/ItemSlider/images/13.jpg" alt="img13"><h4>Duffel Bags</h4>
								<p>Price :
								<label for="myalue" style="vertical-align: middle" ></label></p>
								<button>Buy now</button>
                            </a></li>
                            <li><a href="#">
                                <img src="assets/ItemSlider/images/14.jpg" alt="img14"><h4>Laptop Bags</h4>
								<p>Price :
								<label for="myalue" style="vertical-align: middle" ></label></p>
								<button>Buy now</button>
                            </a></li>
                            <li><a href="#">
                                <img src="assets/ItemSlider/images/15.jpg" alt="img15"><h4>Briefcases</h4>
								<p>Price :
								<label for="myalue" style="vertical-align: middle" ></label></p>
								<button>Buy now</button>
                            </a></li>
                        </ul>
                        <nav>
                            <a href="#">Shoes</a>
                            <a href="#">Accessories</a>
                            <a href="#">Groceries</a>
                            <a href="#">Bags</a>
                        </nav>
                    </div>
                    
                </div>
                <br />
            </div>
 
 
	<script src="assets/js/jquery-1.10.2.js"></script>
    <!--bootstrap JavaScript file  -->
    <script src="assets/js/bootstrap.js"></script>
    <!--Slider JavaScript file  -->
    <script src="assets/ItemSlider/js/modernizr.custom.63321.js"></script>
    <script src="assets/ItemSlider/js/jquery.catslider.js"></script>
			
    <script>
	var discount;
	var temp;
	
	
	
	$('button').click(function(){
	alert(this.id);
	//$('#boots').click(function(){
	//alert(totalprice);
	if(discount == 0){
	for(var i=0; i<temp.length;i++){
		if(temp[i].productname == this.id)
		{
		if(temp[i].producttype == "groceries")
		{
		alert(temp[i].productprice);
		}else{
		var totalprice = temp[i].productprice - (temp[i].productprice / 100);
		alert(totalprice);
		}
		}
		}
	//var totalprice =  
	}
	else{
	for(var i=0; i<temp.length;i++){
		if(temp[i].productname == this.id)
		{
		if(temp[i].producttype == "groceries")
		{
		alert(temp[i].productprice);
		}else{
		var totalprice = (temp[i].productprice - ( temp[i].productprice * discount / 100 ));
		alert(totalprice);
		}
		
		}
		}
	
	}
	
	})
	
	
	function ajaxcall(discount){
	console.log("ajaxcall"+discount);
	$.ajax({
				
                url: "http://192.168.1.222:8080/retail_store/products/view",
				 headers: {
                    'Content-Type': 'application/json',
                    'Accept': 'application/json'
                },
                type: 'GET',
				dataType: 'json',
               
				
                success: function(output_string) {
				//var json = $.parseJSON(output_string);
                    console.log("---->"+ JSON.stringify(output_string));
					 temp = output_string.payload;
					for(var i=0; i<temp.length;i++){
					console.log(temp[i].productprice);
					}
					
					
					$("label[for='Boots']").html(temp[0].productprice);
					$("label[for='Oxfords']").html(temp[1].productprice);
					$("label[for='Loafers']").html(temp[2].productprice);
					$("label[for='Sneakers']").html(temp[3].productprice);
					$("label[for='Belts']").html(temp[4].productprice);
					$("label[for='Caps']").html(temp[5].productprice);
					$("label[for='Sunglasses']").html(temp[6].productprice);
					$("label[for='Scarves']").html(temp[7].productprice);
					$("label[for='Tomato']").html(temp[8].productprice);
					$("label[for='Potato']").html(temp[9].productprice);
					if(discount == 0){
					$(".dis_none").hide();
					}else{
					//var percentage = discount;
					//var price      = $price.val();
					//var calcPrice  = (temp[0].productprice - ( temp[0].productprice * discount / 100 )).toFixed(2);
					
					
					$("label[for='dis_Boots']").html((temp[0].productprice - ( temp[0].productprice * discount / 100 )).toFixed(2));
					$("label[for='dis_Oxfords']").html((temp[1].productprice - ( temp[1].productprice * discount / 100 )).toFixed(2));
					$("label[for='dis_Loafers']").html((temp[2].productprice - ( temp[2].productprice * discount / 100 )).toFixed(2));
					$("label[for='dis_Sneakers']").html((temp[3].productprice - ( temp[3].productprice * discount / 100 )).toFixed(2));
					$("label[for='dis_Belts']").html((temp[4].productprice - ( temp[4].productprice * discount / 100 )).toFixed(2));
					$("label[for='dis_Caps']").html((temp[5].productprice - ( temp[5].productprice * discount / 100 )).toFixed(2));
					$("label[for='dis_Sunglasses']").html((temp[6].productprice - ( temp[6].productprice * discount / 100 )).toFixed(2));
					$("label[for='dis_Scarves']").html((temp[7].productprice - ( temp[7].productprice * discount / 100 )).toFixed(2));
					$("label[for='dis_Tomato']").html((temp[8].productprice - ( temp[8].productprice * discount / 100 )).toFixed(2));
					$("label[for='dis_Potato']").html((temp[9].productprice - ( temp[9].productprice * discount / 100 )).toFixed(2));
	}
                   
				   
				   
                },
                error: function(error) {
                    console.log("error", error);
                }
            });
	}
	 $(function () {

            $('#mi-slider').catslider();

        });
	
        $(function() {

		
   $("#register-form-link").click(function(){
   alert("register submit");
   $("#login-page").hide();
   $("#register-page").show();
   });
	
	$("#login-submit").click(function(){
	alert("login submit");
	var phone=$("#pnumber").val();
	var password=$("#password").val();
	
	 $.ajax({
				
                url: "http://192.168.1.222:8080/retail_store/login/verify",
				 headers: {
                    'Content-Type': 'application/json',
                    'Accept': 'application/json'
                },
                type: 'POST',
				dataType: 'json',
                data: JSON.stringify({
                    phone: phone,
                    password: password
                
                }),
				
                success: function(output_string) {
				//var json = $.parseJSON(output_string);
                    console.log("---->"+ JSON.stringify(output_string.payload.discount));
					$("#login-page").hide();
					$("#emp-login-page").hide();
					$("#partner-login-page").hide();
					
					$("#category-list").show();
					 discount = output_string.payload.discount;
                    ajaxcall(discount);
                },
                error: function(error) {
                    console.log("error", error);
                }
            });
	
	
	});

	<!-- Register function -->
	$("#register-submit1").click(function(){
	alert("register submit");
	 //$(".test").show();
	 //$("#category-list").show();
	var username=$("#username").val();
	var email=$("#email").val();
	var phoneNumber=$("#phoneNumber").val();
	var password=$("#cus-password").val();
	console.log(username);
	console.log(email);
	console.log(phoneNumber);
	console.log(password);
	 $.ajax({
				
                url: "http://192.168.1.222:8080/retail_store/register/add",
				 headers: {
                    'Content-Type': 'application/json',
                    'Accept': 'application/json'
                },
                type: 'POST',
				dataType: 'json',
                data: JSON.stringify({
                    name: username,
                    email: email,
                    phone: phoneNumber,
                    password: password,
					usertype: 'customer'
                
                }),
				
                success: function(output_string) {
				//var json = $.parseJSON(output_string);
                    console.log("---->"+ JSON.stringify(output_string));
					
                    
                },
                error: function(error) {
                    console.log("error", error);
                }
            });
	
	
	
	
	});
	
	//emp func

	$("#emp-login-submit").click(function(){
	alert("emp login");
	var phone=$("#emp-pnumber").val();
	var password=$("#emp-password").val();
	
	 $.ajax({
				
                url: "http://192.168.1.222:8080/retail_store/login/verify",
				 headers: {
                    'Content-Type': 'application/json',
                    'Accept': 'application/json'
                },
                type: 'POST',
				dataType: 'json',
                data: JSON.stringify({
                    phone: phone,
                    password: password
                
                }),
				
                success: function(output_string) {
				//var json = $.parseJSON(output_string);
                    console.log("---->"+ JSON.stringify(output_string));
					$("#login-page").hide();
					$("#emp-login-page").hide();
					$("#category-list").show();
                    
                },
                error: function(error) {
                    console.log("error", error);
                }
            });
	
	
	});
	$("#emp-register-form-link").click(function(){
	alert("reg");
	$("#emp-login-page").hide();
	$("#emp-register-page").show();
	});
	
	//register submit
	$("#emp-register-form-link").click(function(){
	
	var username=$("#emp-username").val();
	var email=$("#emp-email").val();
	var phoneNumber=$("#emp-phoneNumber").val();
	var password=$("#emp-password").val();
	
	
	 $.ajax({
				
                url: "http://192.168.1.222:8080/retail_store/register/add",
				 headers: {
                    'Content-Type': 'application/json',
                    'Accept': 'application/json'
                },
                type: 'POST',
				dataType: 'json',
                data: JSON.stringify({
                    name: username,
                    email: email,
                    phone: phoneNumber,
                    password: password,
					usertype: 'employee'
                
                }),
				
                success: function(output_string) {
				//var json = $.parseJSON(output_string);
                    console.log("---->"+ JSON.stringify(output_string));
					
                    
                },
                error: function(error) {
                    console.log("error", error);
                }
            });
	
	});
	
	
	//3rd party func

	$("#partner-login-submit").click(function(){
	alert("emp login");
	var phone=$("#partner-pnumber").val();
	var password=$("#partner-password").val();
	
	 $.ajax({
				
                url: "http://192.168.1.222:8080/retail_store/login/verify",
				 headers: {
                    'Content-Type': 'application/json',
                    'Accept': 'application/json'
                },
                type: 'POST',
				dataType: 'json',
                data: JSON.stringify({
                    phone: phone,
                    password: password
                
                }),
				
                success: function(output_string) {
				//var json = $.parseJSON(output_string);
                    console.log("---->"+ JSON.stringify(output_string));
					$("#emp-login-page").hide();
					$("#login-page").hide();
					$("#partner-login-page").hide();
					$("#category-list").show();
                    
                },
                error: function(error) {
                    console.log("error", error);
                }
            });
	
	
	});
	$("#partner-register-form-link").click(function(){
	alert("reg");
	$("#partner-login-page").hide();
	$("#partner-register-page").show();
	});
	
	//register submit
	$("#partner-register-submit").click(function(){
	alert("partner-register-submit");
	var username=$("#partner-username").val();
	var email=$("#partner-email").val();
	var phoneNumber=$("#partner-phoneNumber").val();
	var password=$("#partner-password").val();
	
	
	 $.ajax({
				
                url: "http://192.168.1.222:8080/retail_store/register/add",
				 headers: {
                    'Content-Type': 'application/json',
                    'Accept': 'application/json'
                },
                type: 'POST',
				dataType: 'json',
                data: JSON.stringify({
                    name: username,
                    email: email,
                    phone: phoneNumber,
                    password: password,
					usertype: 'thirdparty'
                
                }),
				
                success: function(output_string) {
				//var json = $.parseJSON(output_string);
                    console.log("---->"+ JSON.stringify(output_string));
					
                    
                },
                error: function(error) {
                    console.log("error", error);
                }
            });
	
	});
	
	
});
    </script>
</body>


</html>